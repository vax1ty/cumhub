-- ModuleScript named "UILibrary" in ReplicatedStorage
local UILibrary = {}

local function createScreenGui()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "HubGui"
    screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    return screenGui
end

local function createMainFrame(parent)
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Parent = parent
    mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    mainFrame.Size = UDim2.new(0, 800, 0, 500)
    mainFrame.Position = UDim2.new(0.5, -400, 0.5, -250)

    local mainUICorner = Instance.new("UICorner")
    mainUICorner.CornerRadius = UDim.new(0, 10)
    mainUICorner.Parent = mainFrame

    return mainFrame
end

local function createLeftPanel(parent)
    local leftPanel = Instance.new("Frame")
    leftPanel.Name = "LeftPanel"
    leftPanel.Parent = parent
    leftPanel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    leftPanel.Size = UDim2.new(0, 200, 0, 500)
    leftPanel.Position = UDim2.new(0, 0, 0, 0)

    local leftUICorner = Instance.new("UICorner")
    leftUICorner.CornerRadius = UDim.new(0, 10)
    leftUICorner.Parent = leftPanel

    return leftPanel
end

local function createRightPanel(parent)
    local rightPanel = Instance.new("Frame")
    rightPanel.Name = "RightPanel"
    rightPanel.Parent = parent
    rightPanel.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    rightPanel.Size = UDim2.new(0, 580, 0, 500)
    rightPanel.Position = UDim2.new(0, 210, 0, 0)

    local rightUICorner = Instance.new("UICorner")
    rightUICorner.CornerRadius = UDim.new(0, 10)
    rightUICorner.Parent = rightPanel

    return rightPanel
end

local function createTabButton(name, parent, text, posY, onClick)
    local tabButton = Instance.new("TextButton")
    tabButton.Name = name
    tabButton.Parent = parent
    tabButton.Text = text
    tabButton.Font = Enum.Font.GothamBold
    tabButton.TextSize = 18
    tabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    tabButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    tabButton.Size = UDim2.new(0, 180, 0, 30)
    tabButton.Position = UDim2.new(0, 10, 0, posY)

    local uiCorner = Instance.new("UICorner")
    uiCorner.CornerRadius = UDim.new(0, 5)
    uiCorner.Parent = tabButton

    tabButton.MouseButton1Click:Connect(onClick)

    return tabButton
end

local function createToggle(name, parent, text, posY, callback)
    local toggle = Instance.new("Frame")
    toggle.Name = name
    toggle.Parent = parent
    toggle.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    toggle.Position = UDim2.new(0, 10, 0, posY)
    toggle.Size = UDim2.new(0, 560, 0, 40)

    local uiCorner = Instance.new("UICorner")
    uiCorner.CornerRadius = UDim.new(0, 5)
    uiCorner.Parent = toggle

    local textLabel = Instance.new("TextLabel")
    textLabel.Name = name .. "Label"
    textLabel.Parent = toggle
    textLabel.Text = text
    textLabel.Font = Enum.Font.Gotham
    textLabel.TextSize = 18
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.BackgroundTransparency = 1
    textLabel.Size = UDim2.new(1, -50, 1, 0)
    textLabel.Position = UDim2.new(0, 5, 0, 0)

    local toggleButton = Instance.new("TextButton")
    toggleButton.Name = name .. "Button"
    toggleButton.Parent = toggle
    toggleButton.Text = ""
    toggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    toggleButton.Size = UDim2.new(0, 30, 0, 30)
    toggleButton.Position = UDim2.new(1, -40, 0.5, -15)

    local buttonUICorner = Instance.new("UICorner")
    buttonUICorner.CornerRadius = UDim.new(1, 0)
    buttonUICorner.Parent = toggleButton

    local isToggled = false

    toggleButton.MouseButton1Click:Connect(function()
        isToggled = not isToggled
        toggleButton.BackgroundColor3 = isToggled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
        callback(isToggled)
    end)

    return toggle
end

function UILibrary:CreateHub()
    local screenGui = createScreenGui()
    local mainFrame = createMainFrame(screenGui)
    local leftPanel = createLeftPanel(mainFrame)
    local rightPanel = createRightPanel(mainFrame)

    return {
        ScreenGui = screenGui,
        MainFrame = mainFrame,
        LeftPanel = leftPanel,
        RightPanel = rightPanel
    }
end

function UILibrary:AddTabButton(hub, name, text, posY, onClick)
    return createTabButton(name, hub.LeftPanel, text, posY, onClick)
end

function UILibrary:AddToggle(hub, name, text, posY, callback)
    return createToggle(name, hub.RightPanel, text, posY, callback)
end

return UILibrary
